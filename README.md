<head><title>HPSSIC README</title></head>

# HPSS Integrity Crawler

Code for the HPSS Integrity Crawler resides in a git repo on the TechInt github
organization:

   https://github.com/ORNL-TechInt/hpss-crawler

## Goals of the program

A white paper motivating the HIC is available in Google documents here:

* [HPSS Quality Assurance at ORNL](http://tinyurl.com/n2xlof3)

The high level design for the HIC is documented in a Google document here:

* [HPSS System Integrity Crawler High Level Design](http://tinyurl.com/n5b4cxy)

These documents are owned by Tom Barron. Please contact him for access if
needed.

## Documentation

* [User Guide](http://users.nccs.gov/~tpb/hpssic/UserGuide.html)

* [Reference Manual](http://users.nccs.gov/~tpb/hpssic/ReferenceManual.html)

## Running Tests

> $ tests/all

Test results are written to stdout and also logged in crawl_test.log so a
history is available.

The tests for a specific component can be run like this:

> $ tests/_component-testfile_.py

## Git Repo Branches

The git repo has the following branches used for the indicated intentions

        devel
            Current development

        master
            Last stable release

        post
            This branch is historic and the material from it has been merged to
            dev. it can be deleted

        prehistory
            This branch contains the history of the work from before the
            github repo was established. It is fully incorporated into
            devel, however deleting this branch would lose the steps from
            project inception to when the github repo was set up.


## Configuration

The configuration file is determined by the -c/--cfg option on the command line,
the environment variable $CRAWL_CONF, and the default of 'crawl.cfg' in that
order.


## Log file

The log file is determined by the -l/--logpath command line option, the
'logpath' setting in the 'crawler' section of the configuration file, the
environment variable $CRAWL_LOG, or the default of '/var/log/crawl.log', in that
order.


## Environment Variables

  * CRAWL - Where the crawler is deployed. In this directory should
    appear subdirectories hpssic, plugins, bin, githooks, dist, etc.

  * CRAWL_CONF - Full path for the configuration file to use. This
    environment variable overrides the default and is in turn
    overridden by any value specified on the command line.

  * CRAWL_LOG - Full path for the log file to use. Overrides the
    default and any value specified in a configuration file, is
    overridden by any value specified on the command line.

  * HPSS_ROOT - Where to find an instance of the HPSS source code if
    needed.

  * KEEPFILES - If set to something other than '' or '0', indicates
    that files generated by running the tests should be preserved for
    examination after the test run is complete. Otherwise, the test
    files will be removed after the test run completes.